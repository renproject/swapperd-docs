
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>SwapperD Official Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#installation" class="toc-h1 toc-link" data-title="Installation">Installation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#swapperd" class="toc-h2 toc-link" data-title="SwapperD">SwapperD</a>
                  </li>
                  <li>
                    <a href="#swapperd-desktop" class="toc-h2 toc-link" data-title="SwapperD Desktop">SwapperD Desktop</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#networks" class="toc-h1 toc-link" data-title="Networks">Networks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#swapperd" class="toc-h2 toc-link" data-title="SwapperD">SwapperD</a>
                  </li>
                  <li>
                    <a href="#swapperd-desktop" class="toc-h2 toc-link" data-title="SwapperD Desktop">SwapperD Desktop</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#swaps" class="toc-h1 toc-link" data-title="Swaps">Swaps</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#supported-tokens" class="toc-h2 toc-link" data-title="Supported Tokens">Supported Tokens</a>
                  </li>
                  <li>
                    <a href="#post-starting-swaps" class="toc-h2 toc-link" data-title="POST Starting swaps"><code>POST</code> Starting swaps</a>
                  </li>
                  <li>
                    <a href="#post-responding-to-swaps" class="toc-h2 toc-link" data-title="POST Responding to swaps"><code>POST</code> Responding to swaps</a>
                  </li>
                  <li>
                    <a href="#post-starting-delayed-swaps" class="toc-h2 toc-link" data-title="POST Starting delayed swaps"><code>POST</code> Starting delayed swaps</a>
                  </li>
                  <li>
                    <a href="#get-status-of-existing-swaps" class="toc-h2 toc-link" data-title="GET Status of existing swaps"><code>GET</code> Status of existing swaps</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#balances" class="toc-h1 toc-link" data-title="Balances">Balances</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-token-balances" class="toc-h2 toc-link" data-title="GET All Token Balances"><code>GET</code> All Token Balances</a>
                  </li>
                  <li>
                    <a href="#get-single-token-balance" class="toc-h2 toc-link" data-title="GET Single Token Balance"><code>GET</code> Single Token Balance</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#addresses" class="toc-h1 toc-link" data-title="Addresses">Addresses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-token-addresses" class="toc-h2 toc-link" data-title="GET All Token Addresses"><code>GET</code> All Token Addresses</a>
                  </li>
                  <li>
                    <a href="#get-single-token-address" class="toc-h2 toc-link" data-title="GET Single Token Address"><code>GET</code> Single Token Address</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transfers" class="toc-h1 toc-link" data-title="Transfers">Transfers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-transferring-funds" class="toc-h2 toc-link" data-title="POST Transferring funds"><code>POST</code> Transferring funds</a>
                  </li>
                  <li>
                    <a href="#get-details-of-past-transactions" class="toc-h2 toc-link" data-title="GET Details of past transactions"><code>GET</code> Details of past transactions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#info" class="toc-h1 toc-link" data-title="Info">Info</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-swapperd-info" class="toc-h2 toc-link" data-title="GET SwapperD Info"><code>GET</code> SwapperD Info</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#id" class="toc-h1 toc-link" data-title="ID">ID</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-swapperd-id" class="toc-h2 toc-link" data-title="GET SwapperD ID"><code>GET</code> SwapperD ID</a>
                  </li>
                  <li>
                    <a href="#get-swapperd-id-as-an-ethereum-address" class="toc-h2 toc-link" data-title="GET SwapperD ID as an Ethereum address"><code>GET</code> SwapperD ID as an Ethereum address</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sign" class="toc-h1 toc-link" data-title="Sign">Sign</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-signing-json-with-swapperd-identity" class="toc-h2 toc-link" data-title="POST Signing JSON with SwapperD Identity"><code>POST</code> Signing JSON with SwapperD Identity</a>
                  </li>
                  <li>
                    <a href="#post-signing-hex-messages-with-swapperd-identity" class="toc-h2 toc-link" data-title="POST Signing hex messages with SwapperD Identity"><code>POST</code> Signing hex messages with SwapperD Identity</a>
                  </li>
                  <li>
                    <a href="#post-signing-base64-messages-with-swapperd-identity" class="toc-h2 toc-link" data-title="POST Signing base64 messages with SwapperD Identity"><code>POST</code> Signing base64 messages with SwapperD Identity</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/renproject/swapperd'>GitHub</a></li>
            <li><a href='https://renproject.io'>Built by Ren</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>

<p><em>SwapperD</em> is a daemon service that can execute cross-chain atomic swaps between Bitcoin, Ethereum, and ERC20 tokens, with more blockchain support coming soon. There are two ways to interact with <em>SwapperD</em>: either directly with the <em>SwapperD</em> daemon; or through the <a href="https://github.com/renproject/swapperd-desktop"><em>SwapperD Desktop</em></a> application.</p>

<p><em>SwapperD</em> is a standalone daemon service but the <em>SwapperD Desktop</em> application relies on <em>SwapperD</em> under the hood. When installing <em>SwapperD Desktop</em> the <em>SwapperD</em> daemon will be installed as well.</p>

<h1 id='installation'>Installation</h1><h2 id='swapperd'>SwapperD</h2>
<blockquote>
<p><em>SwapperD</em> currently supports macOS and Ubuntu. Run the following command in a terminal:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://git.io/test-swapperd -sSLf | sh
</code></pre>
<p><em>SwapperD</em> installs itself as a system service. In the event of an unexpected shutdown, <em>SwapperD</em> automatically restarts, and on the first HTTP request, it resumes all pending atomic swaps.</p>

<p>A <code>mnemonic</code> is generated during the installation process. <em>SwapperD</em> uses this <code>mnemonic</code>, with the <code>password</code> provided in the swap request, to generate it&#39;s Bitcoin and Ethereum private keys on-demand.</p>

<aside class="success">
<i>SwapperD</i> never stores private keys to persistent storage. 
</aside>

<aside class="notice">
Backup the <code>mnemonic</code> generated during installation. Forgetting this could result in the loss of funds!
</aside>
<h2 id='swapperd-desktop'>SwapperD Desktop</h2>
<p>Prebuilt <em>SwapperD Desktop</em> for Windows, MacOS, and Linux can be downloaded from <a href="https://github.com/renproject/swapperd-desktop/releases">https://github.com/renproject/swapperd-desktop/releases</a>. <em>SwapperD</em> will be installed along with the desktop application.</p>

<h1 id='authentication'>Authentication</h1>

<blockquote>
<p>An example using HTTP Authentication:</p>
</blockquote>

<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/balances
</code></pre>

<p><em>SwapperD</em> protects all necessary endpoints with HTTP Basic Authentication. </p>

<aside class="success">
Every <code>password</code> that you enter gives you a different key pair for Ethereum and Bitcoin. There is no concept of a wrong password in <i>SwapperD</i>, this helps us to support multiple accounts and protecting the user from the rubber hammer attack. 
</aside>

<p>Basic Authentication is unnecessary when interacting with <em>SwapperD Desktop</em> but protected endpoints will return a <code>401 Unauthorized</code> status when the wallet is locked.</p>

<h1 id='networks'>Networks</h1><h2 id='swapperd'>SwapperD</h2>
<p><em>SwapperD</em> runs on two ports by default, <code>Mainnet</code> on 7927 and <code>Testnet</code> on 17927. We are working on adding a local environment, which will setup local <em>SwapperD</em> and blockchain nodes for testing. This <code>Local</code> network would be using 27927.</p>
<h2 id='swapperd-desktop'>SwapperD Desktop</h2>
<p>Unlike <em>SwapperD</em>, <em>SwapperD Desktop</em> runs on a single port: 7928. In order to specify a network for the different requests, the query parameter <code>network</code> should be specified with values <code>&quot;mainnet&quot;</code> or <code>&quot;testnet&quot;</code>. If a network is not specified, the network will default to Mainnet.</p>

<h1 id='swaps'>Swaps</h1>

<p>Executing an atomic swap requires two parties to participate in an interactive swapping process. This interactive swapping process will either result in both parties exchanging their tokens, or both parties keeping their tokens.</p>

<p>Before beginning an atomic swap, <em>SwapperD</em> assumes that the two parties:</p>

<ol>
<li>Agree that one party begins the atomic swap.<br></li>
<li>Exchange their <em>SwapperD</em> addresses for the relevant tokens.</li>
</ol>

<p>Before responding to an atomic swap, <em>SwapperD</em> assumes that the two parties:</p>

<ol>
<li>Exchange the <code>timeLock</code> and <code>secretHash</code> generated by the party that begins the atomic swap.</li>
</ol>

<p><em>SwapperD</em> handles all other interactions. <em>SwapperD</em> is built to be fault-tolerant and in the event of an unexpected shutdown, or unexpected errors, it retries actions as needed. All actions are idempotent and cannot result in an accidental double execution.</p>

<aside class="notice">
<i>SwapperD</i> cannot execute the interactive swapping process when the host machine is shut down, or offline. Keeping the host machine shutdown, or offline, for more than 24 hours could result in the loss of funds!
</aside>

<h2 id='supported-tokens'>Supported Tokens</h2>

<ul>
<li>Bitcoin: &quot;bitcoin&quot;, &quot;btc&quot;, &quot;xbt&quot;</li>
<li>Ether: &quot;ethereum&quot;, &quot;eth&quot;, &quot;ether&quot;</li>
<li>WrappedBitcoin: &quot;wrappedbtc&quot;, &quot;wbtc&quot;, &quot;wrappedbitcoin&quot;</li>
<li>Ren: &quot;ren&quot;, &quot;republictoken&quot;, &quot;republic token&quot;</li>
<li>TrueUSD: &quot;tusd&quot;, &quot;trueusd&quot;, &quot;true-usd&quot;</li>
<li>DigixGoldToken: &quot;digix-gold-token&quot;, &quot;dgx&quot;, &quot;dgt&quot;</li>
<li>ZeroEx: &quot;zerox&quot;, &quot;zrx&quot;, &quot;0x&quot;</li>
<li>OmiseGo: &quot;omisego&quot;, &quot;omg&quot;, &quot;omise-go&quot;</li>
<li>CircleUSD: &quot;usdc&quot;, &quot;usd-coin&quot;, &quot;usdcoin&quot;</li>
<li>MakerDAI: &quot;dai&quot;, &quot;maker-dai&quot;, &quot;makerdai&quot;</li>
<li>GeminiUSD: &quot;gusd&quot;, &quot;gemini-dollar&quot;, &quot;geminidollar&quot;</li>
<li>Paxos: &quot;pax&quot;, &quot;paxosstandardtoken&quot;, &quot;paxos-standard-token&quot;</li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Usage</th>
</tr>
</thead><tbody>
<tr>
<td>sendToken</td>
<td>TokenName</td>
<td>The name of the token you want to send</td>
</tr>
<tr>
<td>receiveToken</td>
<td>TokenName</td>
<td>The name of the token you want to receive</td>
</tr>
<tr>
<td>sendAmount</td>
<td>string</td>
<td>The amount of token you want to send (decimal string)</td>
</tr>
<tr>
<td>receiveAmount</td>
<td>string</td>
<td>The amount of token you want to receive (decimal string)</td>
</tr>
<tr>
<td>shouldInitiateFirst</td>
<td>bool</td>
<td>Should the swapper initiate first</td>
</tr>
<tr>
<td>timeLock</td>
<td>int64</td>
<td>Timelock of the initiating atomic swap (required when shouldInitiateFirst is false).</td>
</tr>
<tr>
<td>secretHash</td>
<td>string</td>
<td>Base64 encoding of the secret hash (required when shouldInitiateFirst is false).</td>
</tr>
<tr>
<td>sendTo</td>
<td>string</td>
<td>counter-party&#39;s <code>sendToken</code> address (required when doing an immediate swap).</td>
</tr>
<tr>
<td>receiveFrom</td>
<td>string</td>
<td>counter-party&#39;s <code>receiveToken</code> address (required when doing an immediate swap).</td>
</tr>
<tr>
<td>sendFee</td>
<td>string (optional)</td>
<td><code>sendToken</code> transaction fee</td>
</tr>
<tr>
<td>receiveFee</td>
<td>string (optional)</td>
<td><code>receiveToken</code> transaction fee</td>
</tr>
<tr>
<td>brokerFee</td>
<td>int64 (optional)</td>
<td>broker/matching fee in bips</td>
</tr>
<tr>
<td>brokerSendTokenAddr</td>
<td>string (optional)</td>
<td>broker&#39;s <code>sendToken</code> address</td>
</tr>
<tr>
<td>brokerReceiveTokenAddr</td>
<td>string (optional)</td>
<td>broker&#39;s <code>receiveToken</code> address</td>
</tr>
<tr>
<td>minimumReceiveAmount</td>
<td>string (optional, default: &quot;0&quot;)</td>
<td>used when the delay is true, to check the updated swap details</td>
</tr>
<tr>
<td>delay</td>
<td>bool (optional, default: false)</td>
<td>set it to true if it is a delayed swap</td>
</tr>
<tr>
<td>delayCallbackURL</td>
<td>string (optional)</td>
<td>url to which <em>SwapperD</em> can post the partial swap information to get it filled.</td>
</tr>
<tr>
<td>delayInfo</td>
<td>JSON (optional)</td>
<td>information required by your server behind <code>delayCallbackURL</code> to identify the user and the swap.</td>
</tr>
</tbody></table>

<h2 id='post-starting-swaps'><code>POST</code> Starting swaps</h2>

<blockquote>
<p>Beginning an atomic swap by initiating first:</p>
</blockquote>

<pre class="highlight shell tab-shell"><code>curl -i      <span class="se">\</span>
     -X POST <span class="se">\</span>
     -d <span class="s1">'{
          "sendToken":"BTC",
          "receiveToken":"ETH",
          "sendAmount":"20000",
          "receiveAmount":"20000000000000000",
          "sendTo":"n2RcTmQu2PoRcfHn7uyfQ2jWVcmuHDQLnh",
          "receiveFrom":"0x780c6d20b6C59F4b5F3658A66E1e8ef22d61725D",
          "shouldInitiateFirst":true
        }'</span> <span class="se">\</span>
     http://username:password@localhost:17927/swaps
</code></pre>

<blockquote>
<p>The response body is structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c7t5VHbJdx2M0PtRS6G3lN2nrRH1fX0arUoZYkFBlvI="</span><span class="p">,</span><span class="w">
    </span><span class="s2">"swap"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"sendToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sendAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sendTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mzKgUBHX7xSkKiNrdnxTe6fJKAcvFri2Tc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeLock"</span><span class="p">:</span><span class="w"> </span><span class="mi">1548669277</span><span class="p">,</span><span class="w">
      </span><span class="s2">"secretHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3YyU0uyS2TKWdAkVQpQWwTXRXcEkpjpya8atI2x+OTE="</span><span class="p">,</span><span class="w">
      </span><span class="s2">"shouldInitiateFirst"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qruvrzo2hpyCp76wdcmpo+E+5fZ42n2MNyA4sOjSCzgr8rYh4tLZ0vpKrGDqYptOXzYpakC+NKgPO51hFM7L4AE="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The beginning party sends an HTTP request to his <em>SwapperD</em> using the agreed addresses.</p>

<p><em>SwapperD</em> validates the request and generates the responding swap object. The beginning party can send this response to the responding party. The responding party can check KYC (if they require it), by using the signature. Then they could start the responding swap with the given swap object.</p>

<p>The beginning party can check the status of their swap using the <code>id</code> returned by the <em>SwapperD</em>.</p>

<p><strong>HTTP Endpoint:</strong> <code>POST /swaps</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/swaps</td>
<td>http://localhost:7928/swaps</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/swaps</td>
<td>http://localhost:7928/swaps?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h2 id='post-responding-to-swaps'><code>POST</code> Responding to swaps</h2>

<blockquote>
<p>Respond to an atomic swap by initiating second:</p>
</blockquote>

<pre class="highlight shell tab-shell"><code>curl -i      <span class="se">\</span>
     -X POST <span class="se">\</span>
     -d <span class="s1">'{
        "sendToken": "ETH",
        "receiveToken": "BTC",
        "sendAmount": "20000000000000000",
        "receiveAmount": "20000",
        "sendTo": "0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47",
        "receiveFrom": "mzKgUBHX7xSkKiNrdnxTe6fJKAcvFri2Tc",
        "timeLock": 1548669277,
        "secretHash": "3YyU0uyS2TKWdAkVQpQWwTXRXcEkpjpya8atI2x+OTE=",
        "shouldInitiateFirst": false,
    }'</span> <span class="se">\</span>
    http://username:password@localhost:17927/swaps
</code></pre>

<blockquote>
<p>The response body is structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S1Jn5MTLBqD8M2lm6vYjt1n2qy7XlW7sjHyIY3eInNA="</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>After receiving the response from the beginning party (and checking the KYC information if required), the responding party sends the swap object they received to their <em>SwapperD</em>.</p>

<p><strong>HTTP Endpoint:</strong> <code>POST /swaps</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/swaps</td>
<td>http://localhost:7928/swaps</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/swaps</td>
<td>http://localhost:7928/swaps?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h2 id='post-starting-delayed-swaps'><code>POST</code> Starting delayed swaps</h2>

<p>In some cases, we do not know both sides of an atomic swap, before committing to an atomic swap. An example use-case would be an exchange using <em>SwapperD</em>, and an
exchange would want to make sure that if it finds an order match the users execute the swap. To solve this problem, we introduced a feature called delayed swaps.</p>

<p>A user starts an atomic swap, and the swap request has a <code>delayCallbackUrl</code> which
the <em>SwapperD</em> keeps pinging with the relevant information. So once the counter-party is found the server pointed to by the <code>delayCallbackUrl</code> returns the swap blobs of both traders. The swappers of the traders check the new swap details, and they check the following: </p>

<ul>
<li>The price is equal to or better than the initial price.</li>
<li>The updated send value is less than or equal to the initial value.</li>
<li>The updated receive value is greater than or equal to the initial minimum receive value.</li>
<li>The updated token pair is same as the initial token pair.</li>
</ul>

<p>If all the checks pass, the atomic swap goes through, if they do not the swap fails.</p>

<pre class="highlight shell tab-shell"><code>curl -i      <span class="se">\</span>
     -X POST <span class="se">\</span>
     -d <span class="s1">'{
        "sendToken": "ETH",
        "receiveToken": "BTC",
        "sendAmount": "200000000000000000",
        "receiveAmount": "2000000",
        "minimumReceiveAmount": "1000000",

        "delay": true,
        "delayInfo": {
          "usecaseSpecificKey": "usecaseSpecificValue",
        },
        "delayCallbackUrl": "your_swapperd_callback_url"
    }'</span> <span class="se">\</span>
    http://username:password@localhost:17927/swaps
</code></pre>

<blockquote>
<p><em>SwapperD</em> pings <code>your_swapperd_callback_url</code> with the following request:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"sendToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sendAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"minimumReceiveAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">

      </span><span class="s2">"delay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"delayInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"usecaseSpecificKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usecaseSpecificValue"</span><span class="p">,</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"delayCallbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_swapperd_callback_url"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>SwapperD</em> expects <code>delayCallbackUrl</code> to respond with one of the following responses. </p>

<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>StatusOK -- Success</td>
<td>A filled executable swap json object.</td>
</tr>
<tr>
<td>204</td>
<td>StatusNoContent -- Please try again after some time.</td>
<td>Nothing.</td>
</tr>
<tr>
<td>410</td>
<td>StatusGone -- The swap is cancelled, stop requesting.</td>
<td>Nothing.</td>
</tr>
</tbody></table>

<p><strong>HTTP Endpoint:</strong> <code>POST /swaps</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/swaps</td>
<td>http://localhost:7928/swaps</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/swaps</td>
<td>http://localhost:7928/swaps?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h2 id='get-status-of-existing-swaps'><code>GET</code> Status of existing swaps</h2><pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/swaps
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"swaps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DiqkYPg/2mCzGhlk7ENighXhFDSkSYJ9+qmmVHI3UrE="</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sendToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sendAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiveAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sendCost"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"receiveCost"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1548656666</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeLock"</span><span class="p">:</span><span class="w"> </span><span class="mi">1548678266</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"delay"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Check the status of existing swaps.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /swaps</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/swaps</td>
<td>http://localhost:7928/swaps</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/swaps</td>
<td>http://localhost:7928/swaps?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h1 id='balances'>Balances</h1><h2 id='get-all-token-balances'><code>GET</code> All Token Balances</h2>

<blockquote>
<p>Getting all Testnet balances from SwapperD</p>
</blockquote>

<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/balances
</code></pre>

<blockquote>
<p>The response body is structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mzKgUBHX7xSkKiNrdnxTe6fJKAcvFri2Tc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19190614"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve all balance token balances in the wallet.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /balances</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/balances</td>
<td>http://localhost:7928/balances</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/balances</td>
<td>http://localhost:7928/balances?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h2 id='get-single-token-balance'><code>GET</code> Single Token Balance</h2>

<blockquote>
<p>Get the Testnet BTC balances from SwapperD</p>
</blockquote>

<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/balances/btc
</code></pre>

<blockquote>
<p>The response body is structured like this:</p>
</blockquote>

<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mzKgUBHX7xSkKiNrdnxTe6fJKAcvFri2Tc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19149414"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a single token&#39;s balance.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /balances/{token}</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/balances/{token}</td>
<td>http://localhost:7928/balances/{token}</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/balances/{token}</td>
<td>http://localhost:7928/balances/{token}?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h1 id='addresses'>Addresses</h1><h2 id='get-all-token-addresses'><code>GET</code> All Token Addresses</h2>
<blockquote>
<p>Getting the Testnet addresses from SwapperD</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/addresses
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mzKgUBHX7xSkKiNrdnxTe6fJKAcvFri2Tc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DGX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"OMG"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"REN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ZRX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve the addresses associated with the wallet tokens.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /addresses</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/addresses</td>
<td>http://localhost:7928/addresses</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/addresses</td>
<td>http://localhost:7928/addresses?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>
<h2 id='get-single-token-address'><code>GET</code> Single Token Address</h2>
<blockquote>
<p>Getting the Kovan Ethereum Address from SwapperD</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/addresses/eth
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>
</blockquote>
<pre class="highlight plaintext"><code>0x5Ea5F67cC958023F2da2ea92231d358F2a3BbA47
</code></pre>
<p>Retrieve the wallet address for a specific token.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /addresses/{token}</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/addresses/{token}</td>
<td>http://localhost:7928/addresses/{token}</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/addresses/{token}</td>
<td>http://localhost:7928/addresses/{token}?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h1 id='transfers'>Transfers</h1><h2 id='post-transferring-funds'><code>POST</code> Transferring funds</h2>
<blockquote>
<p>Transferring 0.001 Testnet BTC directly out of SwapperD</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -i      <span class="se">\</span>
     -X POST <span class="se">\</span>
     -d <span class="s1">'{
        "token": "BTC",
        "to": "mroqkoMK1L9ugjBbyJDh1B2kHmHPRzRjRS",
        "amount": "100000"
      }'</span> <span class="se">\\</span>
     http://username:password@localhost:17927/transfers
</code></pre>
<p>Transfer tokens out of the wallet.</p>

<p><strong>HTTP Endpoint:</strong> <code>POST /transfers</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/transfers</td>
<td>http://localhost:7928/transfers</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/transfers</td>
<td>http://localhost:7928/transfers?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>
<h2 id='get-details-of-past-transactions'><code>GET</code> Details of past transactions</h2>
<blockquote>
<p>Getting the past Testnet transactions directly out of SwapperD</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/transfers
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1548828011</span><span class="p">,</span><span class="w">
      </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mroqkoMK1L9ugjBbyJDh1B2kHmHPRzRjRS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mzKgUBHX7xSkKiNrdnxTe6fJKAcvFri2Tc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"txCost"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db7cf2e04d1fa5669323bcbba73b175938fa5dfe0d05ea1f216d151b7728f057"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>See past transaction information.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /transfers</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/transfers</td>
<td>http://localhost:7928/transfers</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/transfers</td>
<td>http://localhost:7928/transfers?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h1 id='info'>Info</h1><h2 id='get-swapperd-info'><code>GET</code> SwapperD Info</h2><pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/info
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1.0.0-beta.7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bootloaded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"supportedBlockchains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"ethereum"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bitcoin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"erc20"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"supportedTokens"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
            </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"erc20"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Check the status of SwapperD.</p>

<p><strong>HTTP Endpoint:</strong> <code>GET /info</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/info</td>
<td>http://localhost:7928/info</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/info</td>
<td>http://localhost:7928/info?network=testnet</td>
</tr>
</tbody></table>

<h1 id='id'>ID</h1>

<p><em>SwapperD</em> uses a separate ECDSA keypair to sign messages, to prove identity. This id can be connected to KYC details, which allows KYC verification for atomic swaps (the developer/counter-party can make sure that the user is KYCd before doing atomic swaps with them), This is an entirely optional feature.</p>

<h2 id='get-swapperd-id'><code>GET</code> SwapperD ID</h2>

<p>This endpoint returns the base64 encoding of the public key.</p>

<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/id
</code></pre>

<blockquote>
<p>The response body is structured like this:</p>
</blockquote>

<pre class="highlight plaintext"><code>BLUOP6KMR7jMhhLzpvuUk9lCHjNsb2hn0FPNV7fJ/rHisJBs7CapPkqPCnrkGWBb9xS3ThO3ftUX85zrbXs2r+M=
</code></pre>

<p><strong>HTTP Endpoint:</strong> <code>GET /id</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/id</td>
<td>http://localhost:7928/id</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/id</td>
<td>http://localhost:7928/id?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h2 id='get-swapperd-id-as-an-ethereum-address'><code>GET</code> SwapperD ID as an Ethereum address</h2>

<p>This endpoint returns the Ethereum address generated from the identity key pair.</p>

<pre class="highlight shell tab-shell"><code>curl -i     <span class="se">\</span>
     -X GET <span class="se">\</span>
     http://username:password@localhost:17927/id/eth
</code></pre>

<blockquote>
<p>The response body is structured like this:</p>
</blockquote>

<pre class="highlight plaintext"><code>0x80B7DF532FFDC5DF28D6bc98205b58daeE1E407f
</code></pre>

<p><strong>HTTP Endpoint:</strong> <code>GET /id/eth</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
<th>SwapperD Desktop</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/id/eth</td>
<td>http://localhost:7928/id/eth</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/id/eth</td>
<td>http://localhost:7928/id/eth?network=testnet</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h1 id='sign'>Sign</h1>

<p><em>SwapperD</em> uses the identity ECDSA keypair to sign messages, to prove identity. It supports signing base64, hex and JSON strings. This endpoint can be used to sign arbitrary messages, and no blockchain uses this key pair so it cannot lead to the loss of funds. </p>

<aside class="warning">
Signing is currently only available for <i>SwapperD</i> and not <i>SwapperD Desktop</i>.
</aside>

<p><h2 id='post-signing-json-with-swapperd-identity'><code>POST</code> Signing JSON with SwapperD Identity</h2><pre class="highlight shell tab-shell"><code>curl -i     <span class="se">&lt;/span&gt;
     -X POST <span class="se">&lt;/span&gt;
     -d <span class="s1">&#39;{
        &quot;hello&quot;: &quot;world&quot;
      }&#39;</span> <span class="se">&lt;/span&gt;
     http://username:password@localhost:17927/sign/json
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>

<p></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">&quot;hello&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;world&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">&quot;signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6JXLmjJMXSmmGO1zuYr7r3pTiQCRvAw8yr8wsv6r8MMM7r5508Kt0zmXjJECDoZ5IgLSo3T2ivZBAYoRjl6UPgA=&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Signing an arbitrary JSON object</p></p></p>

<p><strong>HTTP Endpoint:</strong> <code>POST /sign/json</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/sign/json</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/sign/json</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<p><h2 id='post-signing-hex-messages-with-swapperd-identity'><code>POST</code> Signing hex messages with SwapperD Identity</h2><pre class="highlight shell tab-shell"><code>curl -i     <span class="se">&lt;/span&gt;
     -X POST <span class="se">&lt;/span&gt;
     -d <span class="s1">&#39;1234567890abcdef&#39;</span> <span class="se">&lt;/span&gt;
     http://username:password@localhost:17927/sign/hex
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>

<p></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1234567890abcdef&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e759547d4fa1979260e84622ca732fa6149b95001dd33dd7aad50f1285334f605bb091616667cb7bf81e62d499ab23dac8336153fc85ce96690b01bee0620b4801&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Signing an arbitrary hex string</p></p></p>

<p><strong>HTTP Endpoint:</strong> <code>POST /sign/hex</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/sign/hex</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/sign/hex</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<p><h2 id='post-signing-base64-messages-with-swapperd-identity'><code>POST</code> Signing base64 messages with SwapperD Identity</h2><pre class="highlight shell tab-shell"><code>curl -i     <span class="se">&lt;/span&gt;
     -X POST <span class="se">&lt;/span&gt;
     -d <span class="s1">&#39;1234567890abcdefghijklmNOPQRSTUVWXYZ&#39;</span> <span class="se">&lt;/span&gt;
     http://username:password@localhost:17927/sign/base64
</code></pre>
<blockquote>
<p>The response body is structured like this:</p>

<p></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1234567890abcdefghijklmNOPQRSTUVWXYZ&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ey2OP+gS0ylrwxqJkMLbtita/dAuoxtUSF1vnUzMGiMLh/kDz3nBQ927ZE9XyfQqEeUWKEoicml+c59oJJ9jDQE=&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Signing an arbitrary base64 string</p></p></p>

<p><strong>HTTP Endpoint:</strong> <code>POST /sign/base64</code></p>

<table><thead>
<tr>
<th></th>
<th>SwapperD</th>
</tr>
</thead><tbody>
<tr>
<td>Mainnet</td>
<td>http://localhost:7927/sign/base64</td>
</tr>
<tr>
<td>Testnet</td>
<td>http://localhost:17927/sign/base64</td>
</tr>
</tbody></table>

<aside class="success">
Basic Authentication is required for these SwapperD HTTP endpoints. 
</aside>

<h1 id='errors'>Errors</h1>

<p><em>SwapperD</em> uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400 Bad Request</td>
<td>The request is invalid</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>The HTTP endpoint or method is invalid</td>
</tr>
<tr>
<td>500 Internal Server Error</td>
<td><em>SwapperD</em> encountered an unexpected error. Please <a href="mailto:technical@republicprotocol.com">submit a bug report</a> if you get this error.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
